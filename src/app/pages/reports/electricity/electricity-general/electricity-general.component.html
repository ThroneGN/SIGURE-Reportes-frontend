<div class="wrapper">
  <div class="container">
    <header class="title mt-4">
      <h4 class="">Consumo de elcetricidad</h4>
    </header>
  </div>

  <div class="card mt-5">
    <p-table #ElectricityGeneral selectionMode="single" [value]="listElectricity " dataKey="id" [paginator]="true"
      [rows]="5" [rowsPerPageOptions]="[5, 10, 20, 50]" [loading]="loading" [tableStyle]="{ 'min-width': '50rem' }"
      [globalFilterFields]="['PlanDiario', 'RealDia', 'PlanPicoNocturno', 'RealDiaPicoNoct', 'RealDiaAcum', 'PerdidasDia', 'PerdidasAcum']"
      stateStorage="session" stateKey="statedemo-session">

      <ng-template #caption>
        <div class="d-flex align-items-center gap-5">
          <p-iconfield iconPosition="left">
            <p-inputicon>
              <i class="pi pi-search"></i>
            </p-inputicon>
            <input type="text" [(ngModel)]="searchValue"
              (input)="ElectricityGeneral.filterGlobal(searchValue, 'contains')" />
          </p-iconfield>
          <p-datepicker [iconDisplay]="'input'" [showIcon]="true" inputId="icondisplay"
            dateFormat="dd/mm/yy"></p-datepicker>
        </div>

        <div class="d-flex justify-content-end gap-4 mb-3" style="margin-top: -40px;">
          <p-button icon="pi pi-external-link" label="Exportar a PDF" />
          <p-button icon="pi pi-external-link" label="Exportar a XLS" />
        </div>

      </ng-template>
      <ng-template #header>
        <tr>
          <th pSortableColumn="PlanDiario" style="width:12%">Plan Diario <p-sortIcon field="PlanDiario" /></th>
          <th pSortableColumn="RealDia" style="width:12%">Real Diario <p-sortIcon field="RealDia" /></th>
          <th pSortableColumn="PlanPicoNocturno" style="width:12.5%">Plan Pico Nocturno <p-sortIcon
              field="PlanPicoNocturno" /></th>
          <th pSortableColumn="RealDiaPicoNoct" style="width:15%">Real Diario Pico Nocturno <p-sortIcon
              field="RealDiaPicoNoct" /></th>
          <th pSortableColumn="RealDiaAcum" style="width:12.5%">Real DÃ­a Acumulado <p-sortIcon field="RealDiaAcum" />
          </th>
          <th pSortableColumn="PerdidasDia" style="width:10%">Perdidas Diarias <p-sortIcon field="PerdidasDia" /></th>
          <th pSortableColumn="PerdidasAcum" style="width:12.5%">Perdidas Acumuladas <p-sortIcon field="PerdidasAcum" />
          </th>
        </tr>
      </ng-template>

      <ng-template #body let-electricity>
        <tr>
          <td>{{ electricity.PlanDiario }}</td>
          <td>{{ electricity.RealDia }}</td>
          <td>{{ electricity.PlanPicoNocturno }}</td>
          <td>{{ electricity.RealDiaPicoNoct }}</td>
          <td>{{ electricity.RealDiaAcum }}</td>
          <td>{{ electricity.PerdidasDia }}</td>
          <td>{{ electricity.PerdidasAcum }}</td>
        </tr>
      </ng-template>

      <ng-template pTemplate="emptymessage">
        <tr>
          <td class="text-center" colspan="7" id="sinResultados">No se encuentran resultados.</td>
        </tr>
      </ng-template>
    </p-table>
  </div>  
</div>
